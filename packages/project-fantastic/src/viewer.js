(()=>{var t={892:function(t){"use strict";!function(e,o,n){let i;(i=n.define)&&i.amd?i([],(function(){return o})):(i=n.modules)?i["FlexSearch".toLowerCase()]=o:t.exports=o}(0,function t(e){function o(t,e){const o=e?e.id:t&&t.id;this.id=o||0===o?o:E++,this.init(t,e),l(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),l(this,"length",(function(){return this.index.length}))}function n(t,e,o,n){return this.u!==this.g&&(this.o=this.o.concat(o),this.u++,n&&this.o.length>=n&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(e,this.o),this.F&&this.F(this.o))),this}function i(t){const e=$();for(const o in t)if(t.hasOwnProperty(o)){const n=t[o];w(n)?e[o]=n.slice(0):_(n)?e[o]=i(n):e[o]=n}return e}function s(t,e){const o=t.length,n=b(e),i=[];for(let s=0,r=0;s<o;s++){const o=t[s];(n&&e(o)||!n&&!e[o])&&(i[r++]=o)}return i}function r(t,e,o,n,i,s,r,l,c,a){let h;if(o=g(o,r?0:i,l,s,e,c,a),l&&(l=o.page,h=o.next,o=o.result),r)e=this.where(r,null,i,o);else{for(e=o,o=this.l,i=e.length,s=Array(i),r=0;r<i;r++)s[r]=o[e[r]];e=s}return o=e,n&&(b(n)||(P=n.split(":"),1<P.length?n=v:(P=P[0],n=p)),o.sort(n)),o=m(l,h,o),this.cache&&this.j.set(t,o),o}function l(t,e,o){Object.defineProperty(t,e,{get:o})}function c(t){return new RegExp(t,"g")}function a(t,e){for(let o=0;o<e.length;o+=2)t=t.replace(e[o],e[o+1]);return t}function h(t,e,o,n,i,s,r,l){return e[o]?e[o]:(i=i?(l-(r||l/1.5))*s+(r||l/1.5)*i:s,e[o]=i,i>=r&&((t=(t=t[l-(i+.5>>0)])[o]||(t[o]=[]))[t.length]=n),i)}function f(t,e){if(t){const o=Object.keys(t);for(let n=0,i=o.length;n<i;n++){const i=o[n],s=t[i];if(s)for(let o=0,n=s.length;o<n;o++){if(s[o]===e){1===n?delete t[i]:s.splice(o,1);break}_(s[o])&&f(s[o],e)}}}}function u(t){let e="",o="";var n="";for(let i=0;i<t.length;i++){const s=t[i];s!==o&&(i&&"h"===s?(n="a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n,(("a"===o||"e"===o||"i"===o||"o"===o||"u"===o||"y"===o)&&n||" "===o)&&(e+=s)):e+=s),n=i===t.length-1?"":t[i+1],o=s}return e}function d(t,e){return 0>(t=t.length-e.length)?1:t?-1:0}function p(t,e){return(t=t[P])<(e=e[P])?-1:t>e?1:0}function v(t,e){const o=P.length;for(let n=0;n<o;n++)t=t[P[n]],e=e[P[n]];return t<e?-1:t>e?1:0}function m(t,e,o){return t?{page:t,next:e?""+e:null,result:o}:o}function g(t,e,o,n,i,s,r){let l,c=[];if(!0===o){o="0";var a=""}else a=o&&o.split(":");const h=t.length;if(1<h){const w=$(),b=[];let _,k;var f,u=0;let j;var d=!0;let O,A,C,S,E,L,N=0;if(a&&(2===a.length?(S=a,a=!1):a=E=parseInt(a[0],10)),r){for(_=$();u<h;u++)if("not"===i[u])for(k=t[u],j=k.length,f=0;f<j;f++)_["@"+k[f]]=1;else C=u+1;if(x(C))return m(o,l,c);u=0}else A=y(i)&&i;for(;u<h;u++){const y=u===(C||h)-1;if(!A||!u)if((f=A||i&&i[u])&&"and"!==f){if("or"!==f)continue;L=!1}else L=s=!0;if(k=t[u],j=k.length){if(d){if(!O){O=k;continue}var p=O.length;for(f=0;f<p;f++){var v="@"+(d=O[f]);r&&_[v]||(w[v]=1,s||(c[N++]=d))}O=null,d=!1}for(v=!1,f=0;f<j;f++){var g="@"+(p=k[f]);const t=s?w[g]||0:u;if(!(!t&&!n||r&&_[g]||!s&&w[g]))if(t===u){if(y){if((!E||--E<N)&&(c[N++]=p,e&&N===e))return m(o,N+(a||0),c)}else w[g]=u+1;v=!0}else n&&((g=b[t]||(b[t]=[]))[g.length]=p)}if(L&&!v&&!n)break}else if(L&&!n)return m(o,l,k)}if(O)if(u=O.length,r)for(f=a?parseInt(a,10):0;f<u;f++)_["@"+(t=O[f])]||(c[N++]=t);else c=O;if(n)for(N=c.length,S?(u=parseInt(S[0],10)+1,f=parseInt(S[1],10)+1):(u=b.length,f=0);u--;)if(p=b[u]){for(j=p.length;f<j;f++)if(n=p[f],(!r||!_["@"+n])&&(c[N++]=n,e&&N===e))return m(o,u+":"+f,c);f=0}}else!h||i&&"not"===i[0]||(c=t[0],a&&(a=parseInt(a[0],10)));return e&&(r=c.length,a&&a>r&&(a=0),l=(a=a||0)+e,l<r?c=c.slice(a,l):(l=0,a&&(c=c.slice(a)))),m(o,l,c)}function y(t){return"string"==typeof t}function w(t){return t.constructor===Array}function b(t){return"function"==typeof t}function _(t){return"object"==typeof t}function x(t){return void 0===t}function k(t){const e=Array(t);for(let o=0;o<t;o++)e[o]=$();return e}function $(){return Object.create(null)}function j(){let t,e;self.onmessage=function(o){if(o=o.data)if(o.search){const n=e.search(o.content,o.threshold?{limit:o.limit,threshold:o.threshold,where:o.where}:o.limit);self.postMessage({id:t,content:o.content,limit:o.limit,result:n})}else o.add?e.add(o.id,o.content):o.update?e.update(o.id,o.content):o.remove?e.remove(o.id):o.clear?e.clear():o.info?((o=e.info()).worker=t,console.log(o)):o.register&&(t=o.id,o.options.cache=!1,o.options.async=!1,o.options.worker=!1,e=new Function(o.register.substring(o.register.indexOf("{")+1,o.register.lastIndexOf("}")))(),e=new e(o.options))}}function O(o,n,i,s){o=e("flexsearch","id"+o,j,(function(t){(t=t.data)&&t.result&&s(t.id,t.content,t.result,t.limit,t.where,t.cursor,t.suggest)}),n);const r=t.toString();return i.id=n,o.postMessage({register:r,options:i,id:n}),o}const A={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},C={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},S=[];let E=0;const L={},N={};let P;o.create=function(t,e){return new o(t,e)},o.registerMatcher=function(t){for(const e in t)t.hasOwnProperty(e)&&S.push(c(e),t[e]);return this},o.registerEncoder=function(t,e){return q[t]=e.bind(q),this},o.registerLanguage=function(t,e){return L[t]=e.filter,N[t]=e.stemmer,this},o.encode=function(t,e){return q[t](e)},o.prototype.init=function(t,e){if(this.v=[],e){var s=e.preset;t=e}else t||(t=A),s=t.preset;if(e={},y(t)?(e=C[t],t={}):s&&(e=C[s]),s=t.worker)if("undefined"==typeof Worker)t.worker=!1,this.m=null;else{var r=parseInt(s,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(r);for(var l=0;l<r;l++)this.m[l]=O(this.id,l,t,n.bind(this))}if(this.f=t.tokenize||e.f||this.f||A.f,this.split=x(s=t.split)?this.split||A.split:y(s)?c(s):s,this.D=t.rtl||this.D||A.D,this.async="undefined"==typeof Promise||x(s=t.async)?this.async||A.async:s,this.g=x(s=t.worker)?this.g||A.g:s,this.threshold=x(s=t.threshold)?e.threshold||this.threshold||A.threshold:s,this.b=x(s=t.resolution)?s=e.b||this.b||A.b:s,s<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||x(s=t.depth)?e.depth||this.depth||A.depth:s,this.w=(s=x(s=t.encode)?e.encode||A.encode:s)&&q[s]&&q[s].bind(q)||(b(s)?s:this.w||!1),(s=t.matcher)&&this.addMatcher(s),s=(e=t.lang)||t.filter){if(y(s)&&(s=L[s]),w(s)){r=this.w,l=$();for(var a=0;a<s.length;a++){var h=r?r(s[a]):s[a];l[h]=1}s=l}this.filter=s}if(s=e||t.stemmer){var f;for(f in e=y(s)?N[s]:s,r=this.w,l=[],e)e.hasOwnProperty(f)&&(a=r?r(f):f,l.push(c(a+"($|\\W)"),r?r(e[f]):e[f]));this.stemmer=f=l}if(this.a=l=(s=t.doc)?i(s):this.a||A.a,this.i=k(this.b-(this.threshold||0)),this.h=$(),this.c=$(),l){if(this.l=$(),t.doc=null,f=l.index={},e=l.keys=[],r=l.field,a=l.tag,h=l.store,w(l.id)||(l.id=l.id.split(":")),h){var u=$();if(y(h))u[h]=1;else if(w(h))for(let t=0;t<h.length;t++)u[h[t]]=1;else _(h)&&(u=h);l.store=u}if(a){if(this.G=$(),h=$(),r)if(y(r))h[r]=t;else if(w(r))for(u=0;u<r.length;u++)h[r[u]]=t;else _(r)&&(h=r);for(w(a)||(l.tag=a=[a]),r=0;r<a.length;r++)this.G[a[r]]=$();this.I=a,r=h}if(r){let n;for(w(r)||(_(r)?(n=r,l.field=r=Object.keys(r)):l.field=r=[r]),l=0;l<r.length;l++)w(a=r[l])||(n&&(t=n[a]),e[l]=a,r[l]=a.split(":")),f[a]=new o(t)}t.doc=s}return this.B=!0,this.j=!!(this.cache=s=x(s=t.cache)?this.cache||A.cache:s)&&new M(s),this},o.prototype.encode=function(t){return t&&(S.length&&(t=a(t,S)),this.v.length&&(t=a(t,this.v)),this.w&&(t=this.w(t)),this.stemmer&&(t=a(t,this.stemmer))),t},o.prototype.addMatcher=function(t){const e=this.v;for(const o in t)t.hasOwnProperty(o)&&e.push(c(o),t[o]);return this},o.prototype.add=function(t,e,o,n,i){if(this.a&&_(t))return this.A("add",t,e);if(e&&y(e)&&(t||0===t)){var r="@"+t;if(this.c[r]&&!n)return this.update(t,e);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:t,content:e}),this.c[r]=""+this.C,o&&o(),this;if(!i){if(this.async&&"function"!=typeof importScripts){let i=this;return r=new Promise((function(o){setTimeout((function(){i.add(t,e,null,n,!0),i=null,o()}))})),o?(r.then(o),this):r}if(o)return this.add(t,e,null,n,!0),o(),this}if(!(e=this.encode(e)).length)return this;i=b(o=this.f)?o(e):e.split(this.split),this.filter&&(i=s(i,this.filter));const d=$();d._ctx=$();const p=i.length,v=this.threshold,m=this.depth,g=this.b,y=this.i,w=this.D;for(let e=0;e<p;e++){var l=i[e];if(l){var c=l.length,a=(w?e+1:p-e)/p,f="";switch(o){case"reverse":case"both":for(var u=c;--u;)h(y,d,f=l[u]+f,t,w?1:(c-u)/c,a,v,g-1);f="";case"forward":for(u=0;u<c;u++)h(y,d,f+=l[u],t,w?(u+1)/c:1,a,v,g-1);break;case"full":for(u=0;u<c;u++){const e=(w?u+1:c-u)/c;for(let o=c;o>u;o--)h(y,d,f=l.substring(u,o),t,e,a,v,g-1)}break;default:if(c=h(y,d,l,t,1,a,v,g-1),m&&1<p&&c>=v)for(c=d._ctx[l]||(d._ctx[l]=$()),l=this.h[l]||(this.h[l]=k(g-(v||0))),0>(a=e-m)&&(a=0),(f=e+m+1)>p&&(f=p);a<f;a++)a!==e&&h(l,c,i[a],t,0,g-(a<e?e-a:a-e),v,g-1)}}}this.c[r]=1,this.B=!1}return this},o.prototype.A=function(t,e,o){if(w(e)){var n=e.length;if(n--){for(var i=0;i<n;i++)this.A(t,e[i]);return this.A(t,e[n],o)}}else{var s,r=this.a.index,l=this.a.keys,c=this.a.tag;i=this.a.store;var a=this.a.id;n=e;for(var h=0;h<a.length;h++)n=n[a[h]];if("remove"===t&&(delete this.l[n],a=l.length,a--)){for(e=0;e<a;e++)r[l[e]].remove(n);return r[l[a]].remove(n,o)}if(c){for(s=0;s<c.length;s++){var f=c[s],u=e;for(a=f.split(":"),h=0;h<a.length;h++)u=u[a[h]];u="@"+u}s=(s=this.G[f])[u]||(s[u]=[])}for(let i=0,s=(a=this.a.field).length;i<s;i++){for(f=a[i],c=e,u=0;u<f.length;u++)c=c[f[u]];f=r[l[i]],u="add"===t?f.add:f.update,i===s-1?u.call(f,n,c,o):u.call(f,n,c)}if(i){for(o=Object.keys(i),t=$(),r=0;r<o.length;r++)if(i[l=o[r]]){let o,n;for(l=l.split(":"),a=0;a<l.length;a++)o=(o||e)[c=l[a]],n=(n||t)[c]=o}e=t}s&&(s[s.length]=e),this.l[n]=e}return this},o.prototype.update=function(t,e,o){return this.a&&_(t)?this.A("update",t,e):(this.c["@"+t]&&y(e)&&(this.remove(t),this.add(t,e,o,!0)),this)},o.prototype.remove=function(t,e,o){if(this.a&&_(t))return this.A("remove",t,e);var n="@"+t;if(this.c[n]){if(this.g)return this.m[this.c[n]].postMessage({remove:!0,id:t}),delete this.c[n],e&&e(),this;if(!o){if(this.async&&"function"!=typeof importScripts){let o=this;return n=new Promise((function(e){setTimeout((function(){o.remove(t,null,!0),o=null,e()}))})),e?(n.then(e),this):n}if(e)return this.remove(t,null,!0),e(),this}for(e=0;e<this.b-(this.threshold||0);e++)f(this.i[e],t);this.depth&&f(this.h,t),delete this.c[n],this.B=!1}return this},o.prototype.search=function(t,e,o,n){if(_(e)){if(w(e))for(var i=0;i<e.length;i++)e[i].query=t;else e.query=t;t=e,e=1e3}else e&&b(e)?(o=e,e=1e3):e||0===e||(e=1e3);if(!this.g){var l=[],c=t;if(_(t)&&!w(t)){o||(o=t.callback)&&(c.callback=null);var a=t.sort,h=t.page;e=t.limit,j=t.threshold;var f=t.suggest;t=t.query}if(this.a){j=this.a.index;const s=c.where;var u=c.bool||"or",p=c.field;let d,g,b=u;if(p)w(p)||(p=[p]);else if(w(c)){var v=c;p=[],b=[];for(var m=0;m<c.length;m++)i=(n=c[m]).bool||u,p[m]=n.field,b[m]=i,"not"===i?d=!0:"and"===i&&(g=!0)}else p=this.a.keys;for(u=p.length,m=0;m<u;m++)v&&(c=v[m]),h&&!y(c)&&(c.page=null,c.limit=0),l[m]=j[p[m]].search(c,0);if(o)return o(r.call(this,t,b,l,a,e,f,s,h,g,d));if(this.async){const o=this;return new Promise((function(n){Promise.all(l).then((function(i){n(r.call(o,t,b,i,a,e,f,s,h,g,d))}))}))}return r.call(this,t,b,l,a,e,f,s,h,g,d)}if(j||(j=this.threshold||0),!n){if(this.async&&"function"!=typeof importScripts){let t=this;return j=new Promise((function(o){setTimeout((function(){o(t.search(c,e,null,!0)),t=null}))})),o?(j.then(o),this):j}if(o)return o(this.search(c,e,null,!0)),this}if(!t||!y(t))return l;if(c=t,this.cache)if(this.B){if(o=this.j.get(t))return o}else this.j.clear(),this.B=!0;if(!(c=this.encode(c)).length)return l;o=b(o=this.f)?o(c):c.split(this.split),this.filter&&(o=s(o,this.filter)),v=o.length,n=!0,i=[];var x=$(),k=0;if(1<v&&(this.depth&&"strict"===this.f?u=!0:o.sort(d)),!u||(m=this.h)){const t=this.b;for(;k<v;k++){let e=o[k];if(e){if(u){if(!p)if(m[e])p=e,x[e]=1;else if(!f)return l;if(f&&k===v-1&&!i.length)u=!1,e=p||e,x[e]=0;else if(!p)continue}if(!x[e]){const o=[];let s=!1,r=0;const l=u?m[p]:this.i;if(l){let n;for(let i=0;i<t-j;i++)(n=l[i]&&l[i][e])&&(o[r++]=n,s=!0)}if(s)p=e,i[i.length]=1<r?o.concat.apply([],o):o[0];else if(!f){n=!1;break}x[e]=1}}}}else n=!1;return n&&(l=g(i,e,h,f)),this.cache&&this.j.set(t,l),l}this.F=o,this.u=0,this.o=[];for(var j=0;j<this.g;j++)this.m[j].postMessage({search:!0,limit:e,content:t})},o.prototype.find=function(t,e){return this.where(t,e,1)[0]||null},o.prototype.where=function(t,e,o,n){const i=this.l,s=[];let r,l=0;var c;let a;if(_(t)){o||(o=e);var h=Object.keys(t),f=h.length;if(r=!1,1===f&&"id"===h[0])return[i[t.id]];if((c=this.I)&&!n)for(var u=0;u<c.length;u++){var d=c[u],p=t[d];if(!x(p)){if(a=this.G[d]["@"+p],0==--f)return a;h.splice(h.indexOf(d),1),delete t[d];break}}for(c=Array(f),u=0;u<f;u++)c[u]=h[u].split(":")}else{if(b(t)){for(o=(e=n||Object.keys(i)).length,h=0;h<o;h++)t(f=i[e[h]])&&(s[l++]=f);return s}if(x(e))return[i[t]];if("id"===t)return[i[e]];h=[t],f=1,c=[t.split(":")],r=!0}for(u=(n=a||n||Object.keys(i)).length,d=0;d<u;d++){p=a?n[d]:i[n[d]];let u=!0;for(let o=0;o<f;o++){r||(e=t[h[o]]);const n=c[o],i=n.length;let s=p;if(1<i)for(let t=0;t<i;t++)s=s[n[t]];else s=s[n[0]];if(s!==e){u=!1;break}}if(u&&(s[l++]=p,o&&l===o))break}return s},o.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:S.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let t=0;t<this.g;t++)this.m[t].postMessage({info:!0,id:this.id})},o.prototype.clear=function(){return this.destroy().init()},o.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const t=this.a.keys;for(let e=0;e<t.length;e++)this.a.index[t[e]].destroy();this.a=this.l=null}return this},o.prototype.export=function(t){const e=!t||x(t.serialize)||t.serialize;if(this.a){const e=!t||x(t.doc)||t.doc;var o=!t||x(t.index)||t.index;t=[];let n=0;if(o)for(o=this.a.keys;n<o.length;n++){const e=this.a.index[o[n]];t[n]=[e.i,e.h,Object.keys(e.c)]}e&&(t[n]=this.l)}else t=[this.i,this.h,Object.keys(this.c)];return e&&(t=JSON.stringify(t)),t},o.prototype.import=function(t,e){(!e||x(e.serialize)||e.serialize)&&(t=JSON.parse(t));const o=$();if(this.a){var n=!e||x(e.doc)||e.doc,i=0;if(!e||x(e.index)||e.index){const n=(e=this.a.keys).length;for(var s=t[0][2];i<s.length;i++)o[s[i]]=1;for(i=0;i<n;i++){s=this.a.index[e[i]];const n=t[i];n&&(s.i=n[0],s.h=n[1],s.c=o)}}n&&(this.l=_(n)?n:t[i])}else{for(n=t[2],i=0;i<n.length;i++)o[n[i]]=1;this.i=t[0],this.h=t[1],this.c=o}};const T=function(){const t=c("\\s+"),e=c("[^a-z0-9 ]"),o=[c("[-/]")," ",e,"",t," "];return function(t){return u(a(t.toLowerCase(),o))}}(),q={icase:function(t){return t.toLowerCase()},simple:function(){const t=c("\\s+"),e=c("[^a-z0-9 ]"),o=c("[-/]"),n=[c("[àáâãäå]"),"a",c("[èéêë]"),"e",c("[ìíîï]"),"i",c("[òóôõöő]"),"o",c("[ùúûüű]"),"u",c("[ýŷÿ]"),"y",c("ñ"),"n",c("[çc]"),"k",c("ß"),"s",c(" & ")," and ",o," ",e,"",t," "];return function(t){return" "===(t=a(t.toLowerCase(),n))?"":t}}(),advanced:function(){const t=c("ae"),e=c("ai"),o=c("ay"),n=c("ey"),i=c("oe"),s=c("ue"),r=c("ie"),l=c("sz"),h=c("zs"),f=c("ck"),d=c("cc"),p=[t,"a",e,"ei",o,"ei",n,"ei",i,"o",s,"u",r,"i",l,"s",h,"s",c("sh"),"s",f,"k",d,"k",c("th"),"t",c("dt"),"t",c("ph"),"f",c("pf"),"f",c("ou"),"o",c("uo"),"u"];return function(t,e){return t?(2<(t=this.simple(t)).length&&(t=a(t,p)),e||1<t.length&&(t=u(t)),t):t}}(),extra:function(){const t=[c("p"),"b",c("z"),"s",c("[cgq]"),"k",c("n"),"m",c("d"),"t",c("[vw]"),"f",c("[aeiouy]"),""];return function(e){if(!e)return e;if(1<(e=this.advanced(e,!0)).length){e=e.split(" ");for(let o=0;o<e.length;o++){const n=e[o];1<n.length&&(e[o]=n[0]+a(n.substring(1),t))}e=u(e=e.join(" "))}return e}}(),balance:T},M=function(){function t(t){this.clear(),this.H=!0!==t&&t}return t.prototype.clear=function(){this.cache=$(),this.count=$(),this.index=$(),this.s=[]},t.prototype.set=function(t,e){if(this.H&&x(this.cache[t])){let o=this.s.length;if(o===this.H){o--;const t=this.s[o];delete this.cache[t],delete this.count[t],delete this.index[t]}this.index[t]=o,this.s[o]=t,this.count[t]=-1,this.cache[t]=e,this.get(t)}else this.cache[t]=e},t.prototype.get=function(t){const e=this.cache[t];if(this.H&&e){var o=++this.count[t];const e=this.index;let i=e[t];if(0<i){const s=this.s;for(var n=i;this.count[s[--i]]<=o&&-1!==i;);if(i++,i!==n){for(o=n;o>i;o--)n=s[o-1],s[o]=n,e[n]=o;s[i]=t,e[t]=i}}}return e},t}();return o}(function(){const t={},e="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(o,n,i,s,r){return i=e?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):o+".min.js",t[o+="-"+n]||(t[o]=[]),t[o][r]=new Worker(i),t[o][r].onmessage=s,t[o][r]}}()),this)},13:t=>{t.exports=["127.0.0.1","::1","0.0.0.0","::"]},169:(t,e,o)=>{const n=o(665);t.exports=(t,e,o="powershell")=>e?(Object.entries(e).forEach((e=>{const i=new RegExp(`$${e[0]}`.replace(/[.*+?^${}()|[\]\\]/g,"\\$&","g"),"g");var s;t=t.replace(i,"powershell"==o?n(e[1]):void 0===(s=e[1])?"undefined":"number"==typeof s?`${s}`:"string"==typeof s?`'${s}'`:"boolean"==typeof s?s?"true":"false":void 0)})),t):t},665:t=>{t.exports=t=>void 0===t?"$null":"number"==typeof t?`${t}`:"string"==typeof t?`'${t}'`:"boolean"==typeof t?t?"True":"False":void 0}},e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,o),i.exports}(()=>{"use strict";function t(t,e,o,n,i){return{sel:t,data:e,children:o,text:n,elm:i,key:void 0===e?void 0:e.key}}const e=Array.isArray;function n(t){return"string"==typeof t||"number"==typeof t}const i={createElement:function(t){return document.createElement(t)},createElementNS:function(t,e){return document.createElementNS(t,e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,o){t.insertBefore(e,o)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},getTextContent:function(t){return t.textContent},isElement:function(t){return 1===t.nodeType},isText:function(t){return 3===t.nodeType},isComment:function(t){return 8===t.nodeType}};function s(t){return void 0===t}function r(t){return void 0!==t}const l=t("",{},[],void 0,void 0);function c(t,e){return t.key===e.key&&t.sel===e.sel}function a(t,e,o){var n;const i={};for(let s=e;s<=o;++s){const e=null===(n=t[s])||void 0===n?void 0:n.key;void 0!==e&&(i[e]=s)}return i}const h=["create","update","remove","destroy","pre","post"];function f(t,e){var o,n,i=e.elm,s=t.data.class,r=e.data.class;if((s||r)&&s!==r){for(n in r=r||{},s=s||{})s[n]&&!Object.prototype.hasOwnProperty.call(r,n)&&i.classList.remove(n);for(n in r)(o=r[n])!==s[n]&&i.classList[o?"add":"remove"](n)}}const u={create:f,update:f};function d(t,e){var o,n,i=e.elm,s=t.data.props,r=e.data.props;if((s||r)&&s!==r)for(o in s=s||{},r=r||{})n=r[o],s[o]===n||"value"===o&&i[o]===n||(i[o]=n)}const p={create:d,update:d};var v="undefined"!=typeof window&&window.requestAnimationFrame.bind(window)||setTimeout,m=!1;function g(t,e,o){var n;n=function(){t[e]=o},v((function(){v(n)}))}function y(t,e){var o,n,i=e.elm,s=t.data.style,r=e.data.style;if((s||r)&&s!==r){r=r||{};var l="delayed"in(s=s||{});for(n in s)r[n]||("-"===n[0]&&"-"===n[1]?i.style.removeProperty(n):i.style[n]="");for(n in r)if(o=r[n],"delayed"===n&&r.delayed)for(const t in r.delayed)o=r.delayed[t],l&&o===s.delayed[t]||g(i.style,t,o);else"remove"!==n&&o!==s[n]&&("-"===n[0]&&"-"===n[1]?i.style.setProperty(n,o):i.style[n]=o)}}const w={pre:function(){m=!1},create:y,update:y,destroy:function(t){var e,o,n=t.elm,i=t.data.style;if(i&&(e=i.destroy))for(o in e)n.style[o]=e[o]},remove:function(t,e){var o=t.data.style;if(o&&o.remove){var n;m||(t.elm.offsetLeft,m=!0);var i=t.elm,s=0,r=o.remove,l=0,c=[];for(n in r)c.push(n),i.style[n]=r[n];for(var a=getComputedStyle(i)["transition-property"].split(", ");s<a.length;++s)-1!==c.indexOf(a[s])&&l++;i.addEventListener("transitionend",(function(t){t.target===i&&--l,0===l&&e()}))}else e()}};function b(t,e){var o,n=e.elm,i=t.data.attrs,s=e.data.attrs;if((i||s)&&i!==s){for(o in i=i||{},s=s||{}){const t=s[o];i[o]!==t&&(!0===t?n.setAttribute(o,""):!1===t?n.removeAttribute(o):120!==o.charCodeAt(0)?n.setAttribute(o,t):58===o.charCodeAt(3)?n.setAttributeNS("http://www.w3.org/XML/1998/namespace",o,t):58===o.charCodeAt(5)?n.setAttributeNS("http://www.w3.org/1999/xlink",o,t):n.setAttribute(o,t))}for(o in i)o in s||n.removeAttribute(o)}}const _={create:b,update:b};function x(t,e,o){if("function"==typeof t)t.call(e,o,e);else if("object"==typeof t)if("function"==typeof t[0])if(2===t.length)t[0].call(e,t[1],o,e);else{var n=t.slice(1);n.push(o),n.push(e),t[0].apply(e,n)}else for(var i=0;i<t.length;i++)x(t[i],e,o)}function k(t,e){var o=t.type,n=e.data.on;n&&n[o]&&x(n[o],e,t)}function $(t,e){var o,n=t.data.on,i=t.listener,s=t.elm,r=e&&e.data.on,l=e&&e.elm;if(n!==r){if(n&&i)if(r)for(o in n)r[o]||s.removeEventListener(o,i,!1);else for(o in n)s.removeEventListener(o,i,!1);if(r){var c=e.listener=t.listener||function t(e){k(e,t.vnode)};if(c.vnode=e,n)for(o in r)n[o]||l.addEventListener(o,c,!1);else for(o in r)l.addEventListener(o,c,!1)}}}const j={create:$,update:$,destroy:$};function O(t,e,o){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==o&&void 0!==e)for(let t=0;t<e.length;++t){const o=e[t].data;void 0!==o&&O(o,e[t].children,e[t].sel)}}function A(o,i,s){var r,l,c,a={};if(void 0!==s?(null!==i&&(a=i),e(s)?r=s:n(s)?l=s:s&&s.sel&&(r=[s])):null!=i&&(e(i)?r=i:n(i)?l=i:i&&i.sel?r=[i]:a=i),void 0!==r)for(c=0;c<r.length;++c)n(r[c])&&(r[c]=t(void 0,void 0,void 0,r[c],void 0));return"s"!==o[0]||"v"!==o[1]||"g"!==o[2]||3!==o.length&&"."!==o[3]&&"#"!==o[3]||O(a,r,o),t(o,a,r,l,void 0)}function C(t,e,o,n,i){return{sel:t,data:e,children:o,text:n,elm:i,key:void 0===e?void 0:e.key}}const S=Array.isArray;function E(t){return"string"==typeof t||"number"==typeof t}function L(t,e,o){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==o&&void 0!==e)for(let t=0;t<e.length;++t){const o=e[t].data;void 0!==o&&L(o,e[t].children,e[t].sel)}}function N(t,e,o){var n,i,s,r={};if(void 0!==o?(null!==e&&(r=e),S(o)?n=o:E(o)?i=o:o&&o.sel&&(n=[o])):null!=e&&(S(e)?n=e:E(e)?i=e:e&&e.sel?n=[e]:r=e),void 0!==n)for(s=0;s<n.length;++s)E(n[s])&&(n[s]=C(void 0,void 0,void 0,n[s],void 0));return"s"!==t[0]||"v"!==t[1]||"g"!==t[2]||3!==t.length&&"."!==t[3]&&"#"!==t[3]||L(r,n,t),C(t,r,n,i,void 0)}const P=o(13),T=t=>t.important?"local"===t.access?"Local host":"remote"===t.access?"Remote host with PowerShell access configured":"Host on my network without remote access":"Host outside my network",q=t=>N("div.section",[N("h3",T(t)),t.hostname||t.os?N("div",[t.hostname?N("div.item",`Hostname: ${t.hostname}`):void 0,t.os?N("div.item",`Operating System: ${t.os}`):void 0]):void 0,t.macs&&t.macs.length?N("div",[N("h4","MAC Addresses:"),...t.macs.map((t=>N("div.item",`${t.mac} (${t.vendor})`)))]):void 0,N("div",[N("h4","IP Addresses:"),...t.ips.map((t=>P.includes(t)?void 0:N("div.item",t)))])]),M=(t,e)=>`${t.includes(":")?`[${t}]`:t}:${e}`;function B(t,e,o,n,i){return{sel:t,data:e,children:o,text:n,elm:i,key:void 0===e?void 0:e.key}}const R=Array.isArray;function z(t){return"string"==typeof t||"number"==typeof t}function I(t,e,o){if(t.ns="http://www.w3.org/2000/svg","foreignObject"!==o&&void 0!==e)for(let t=0;t<e.length;++t){const o=e[t].data;void 0!==o&&I(o,e[t].children,e[t].sel)}}function D(t,e,o){var n,i,s,r={};if(void 0!==o?(null!==e&&(r=e),R(o)?n=o:z(o)?i=o:o&&o.sel&&(n=[o])):null!=e&&(R(e)?n=e:z(e)?i=e:e&&e.sel?n=[e]:r=e),void 0!==n)for(s=0;s<n.length;++s)z(n[s])&&(n[s]=B(void 0,void 0,void 0,n[s],void 0));return"s"!==t[0]||"v"!==t[1]||"g"!==t[2]||3!==t.length&&"."!==t[3]&&"#"!==t[3]||I(r,n,t),B(t,r,n,i,void 0)}const F=(t,e,o,n)=>D("div",[D("input",{attrs:{type:"checkbox",id:`connection_match_${n}`},props:{checked:t.connection_search[n]},on:{change:t=>e({type:"connection_search",key:n,value:t.target.checked})}}),D("label",{attrs:{for:`connection_match_${n}`}},o)]),H=(t,e,o)=>{const n=t.connection_search.expanded_connection===o.connection_id,i=t.connection_search.local_ip||t.connection_search.remote_ip||typeof t.connection_search.process;return D("div",[D("div.item",[D("div","Find similar connections"),D(`div.foldout fas fa-chevron-${n?"down":"right"} fa-fw`,{on:{click:[e,{type:"expand_connection",connection:n?void 0:o.connection_id}]}})]),n?D("div.connection_match",[D("div.checkboxes",[F(t,e,"Match local address","local_ip"),F(t,e,"Match remote address","remote_ip"),F(t,e,"Match process","process")]),D("div.button",{class:{disabled:!i},on:i?{click:[e,{type:"find_connections"}]}:{}},"Go")]):void 0,D("div.button",{on:{click:t=>{e({type:"connection",connection:o}),e({type:"tab",tab:"actions"})}}},"View Connection Actions")])},G=(t,e,o,n)=>[N("h4",[n||"Connections",` (${o.length}):`].flat()),o.length?N("div.scroll",o.map((o=>((t,e,o)=>N("div.scroll_item",[N("div.item",`Local address: ${M(o.local_address,o.local_port)}`),N("div.item",`Remote address: ${M(o.remote_address,o.remote_port)}`),N("div.item",`Process: ${o.process.name}`),N("div.item",`State: ${o.state.replace("_"," ")}`),t.connection_search?H(t,e,o):void 0]))(t,e,o)))):void 0],U=(t,e,o)=>N("div.scroll_container",[q(o),...G(t,e,o.connections)]),J=(t,e)=>N("div.item",[N("input",{attrs:{type:"text"},on:{input:o=>t({type:"search_input",query:o.target.value,search_type:e})}}),N("label.fas fa-search fa-fw")]),W=t=>"local"==t?"local host":"remote"==t?"host with PowerShell remote access":void 0,V=o(169),X=(t,e,o,n,i,s,r,l)=>o.followups?Object.values(o.followups).map((c=>{const a=c.label||"boolean"==typeof c.enabled&&(c.enabled?"Enabled":"Disabled")||t.actions[e].names[c.function];if(c.not_permitted)return N("div.item",a);const h=s||"loading"===c.status;return[N("div.button",{on:h?{}:{click:[r,{type:"action_followup",action:e,node_id:n,host:i,followups:[...l,{followup:c.function,label:o.label}],refresh:!0,date:Date.now()}]},class:{disabled:h}},h?"Running...":a),N("pre",V(t.actions[e].commands[c.function],c.data))]})).flat():[],K=(t,e)=>`${t} ${e}${1===t?"":"s"}`,Q=t=>{const e=Date.now()-t;return e<6e4?"just now":`${(t=>{if((t=Math.round(t))<60)return K(t,"minute");const e=Math.floor(t/60),o=t%60;if(e<24)return o?`${K(e,"hour")} and ${K(o,"minute")}`:`${K(e,"hour")}`;const n=Math.floor(e/24),i=e%24;return`${K(n,"day")}${i?`, ${K(i,"hour")}`:""}${o?`, ${K(o,"minute")}`:""}`})(e/1e3/60)} ago`},Y=(t,e,o,n,i,s,r,l,c)=>o.followups?Object.values(o.followups).filter((t=>t.result)).map((a=>N("div",[N("div.result_time",[N("h4",a.label||"boolean"==typeof a.enabled&&(a.enabled?"Enable":"Disable")||t.actions[e].names[a.function]),N("div.time",[` Results from ${Q(a.date)}`,N(`div.foldout fas fa-${a.foldout?"chevron-down":"chevron-right"} fa-fw`,{on:{click:[r,{type:"followup_foldout",action:e,node_id:n,hostname:i,followups:[...l,{followup:a.function,label:o.label}],value:!a.foldout}]}})])]),...a.foldout?a.result.map((h=>c(t,e,h,n,i,s||"loading"===a.status,a.filter,r,[...l,{followup:a.function,label:o.label}]))):[]]))).flat():[],Z=(t,e)=>{if(!t||"none"===t)return;const o="pass"===t;return N("div.tooltippable",[N(`span.fas fa-${o?"check-circle":"exclamation-circle"} fa-fw`,{class:{pending:!o,success:o}}),N("div.tooltip",o?e.pass:e.fail)])},tt=(t,e,o,n,i,s,r,l,c=[])=>N("div.result",[N("div.item",[o.label?N("h4",o.label):void 0,Z(r?o.pass?"pass":"fail":"none",t.actions[e].filters[c.length?c[c.length-1].followup:"run"])]),o.data?N("div",o.data.map((t=>{return N("div",null===(e=t)?"null":void 0===e?"undefined":"object"==typeof e&&e.date?Q(e.date):`${e}`);var e}))):void 0,...X(t,e,o,n,i,s,l,c),...Y(t,e,o,n,i,s,l,c,tt)]),et=tt,ot=(t,e,o,n,i,s)=>N("div.item",[N("h3",i),N("div.button",{on:s?void 0:{click:[t,{type:"perform_action",action:n,node_id:e.node_id,host:e.hostname,connection:o&&o.connection_id}]},class:{disabled:s}},s?"Running...":"Run")]),nt=o(169),it=(t,e)=>N("pre",t?nt(e,{process:t.process.id,local_ip:t.local_address,local_port:t.local_port,remote_ip:t.remote_address,remote_port:t.remote_port}):e),st=(t,e,o,n)=>{if(!t.actions)return;const i=((t,e)=>t.flex_search[e].query&&t.flex_search[e].results?t.flex_search[e].results.reduce(((o,n)=>({...o,[n.id]:t[e][n.id]})),{}):t[e])(t,"actions"),s=Object.entries(i).filter((t=>((t,e)=>t.hosts.includes("none")||t.hosts.includes(e.access))(t[1],o)&&((t,e)=>t.target===(e?"connection":"host"))(t[1],n)));return N("div.scroll_container",[J(e,"actions"),n&&void 0!==t.selected.node?N("div.button",{on:{click:[e,{type:"connection",connection:null}]}},"View host actions"):void 0,N("div.scroll spaced",{on:{scroll:t=>t.target.style.setProperty("--actions-scroll-height",`calc(-${t.target.scrollTop}px - 6rem)`)}},s.length?s.map((i=>((t,e,o,n,i,s)=>{const r=t.action_results[o.hostname]&&t.action_results[o.hostname][i],l=r&&"loading"===r.status;return N("div.scroll_item spaced",[ot(e,o,n,i,s.name,l),it(n,s.commands.run),s.description?s.description:void 0,N("div.targets",[N("b","Valid targets:"),` ${s.hosts.map(W).join(", ")}.`]),r&&r.result?N("div.results",[N("div.followup",[`Results from ${Q(r.date)}`,N(`div.foldout fas fa-${r.foldout?"chevron-down":"chevron-right"} fa-fw`,{on:{click:[e,{type:"result_foldout",action:i,hostname:o.hostname,value:!r.foldout}]}})]),...r.foldout?r.result.map((n=>et(t,i,n,o.node_id,o.hostname,l,r.filter,e))):[]]):void 0])})(t,e,o,n,i[0],i[1]))):N("div.scroll_item","No actions compatible with this host"))])},rt=t=>Object.entries(t).filter((t=>void 0!==t[1])).map((t=>{const e=Array.isArray(t[1])?`[${t[1]}]`:t[1];return`${t[0]}=${e}`})).join("&"),lt=(t,e,o,n,i)=>{const s=n.find((e=>e.node_id===o.node_id&&e.action===t&&e.function===i[i.length-1].followup&&e.label===i[i.length-1].label));if(!s)return;const r=JSON.parse(s.result);e({type:"action_followup_result",action:t,result:r,hostname:o.hostname,date:s.date,filter:s.filter,followups:i}),e({type:"followup_foldout",action:t,hostname:o.hostname,followups:i,value:!1}),r.forEach(((s,r)=>{s.followups&&Object.values(s.followups).forEach((r=>lt(t,e,o,n,[...i,{label:s.label,followup:r.function}])))}))},ct=o(892),at=(t,e,o,n)=>{if(!t.flex_search||!t.flex_search[n])return;const i=new ct({encode:"advanced",tokenize:"full",doc:{id:"id",field:["name","description"]}});Object.entries(o).forEach((t=>{i.add({id:t[0],name:t[1].name,description:t[1].description})})),e({type:"search_index",index:i,search_type:n})},ht=(t,e,o)=>{((t,e,o)=>{"perform_action"==e.type&&fetch(`/actions?${rt({action:e.action,node_id:e.node_id,connection:e.connection})}`,{method:"POST"}).then((t=>t.json())).then((t=>o({...e,type:"action_result",result:t.result,hostname:e.host,date:t.date,filter:t.filter}))),"action_followup"==e.type&&((t,e,o)=>{(t=>fetch(`/action_followup?${rt({action:t.action,function:t.followups[t.followups.length-1].followup,node_id:t.node_id,label:t.followups[t.followups.length-1].label,connection:t.connection})}`,{method:"POST"}))(e).then((t=>t.json())).then((n=>{if(o({...e,type:"action_followup_result",result:n.result,hostname:e.host,date:n.date,filter:n.filter}),e.followups&&e.refresh&&!n.result.length)if(1===e.followups.length)o({...e,refresh:!1,type:"perform_action",followup:e.followups[0]});else{let n=t.action_results[e.host][e.action];const i=e.followups.slice(0,e.followups.length-1);for(const t of i)n=n.result.find((e=>e.label===t.label)).followups[t.followup];o({...e,refresh:!1,type:"action_followup",followups:i,followup:e.followups[e.followups.length-1]})}}))})(t,e,o)})(t,e,o),((t,e,o)=>{"actions"==e.type&&at(t,o,e.actions,"actions"),"tests"==e.type&&at(t,o,e.tests,"tests"),"commands"==e.type&&at(t,o,e.commands,"commands"),"search_input"==e.type&&o({type:"search_results",results:t.flex_search[e.search_type].index.search(e.query),search_type:e.search_type})})(t,e,o),"init"==e.type&&((t,e)=>{fetch("/actions").then((t=>t.json())).then((o=>t({type:e,[e]:o})))})(o,"actions"),"node_data"==e.type&&((t,e)=>{fetch(`/results?${rt({nodes:t.map((t=>t.node_id))})}`).then((t=>t.json())).then((o=>{o.filter((t=>"run"===t.function)).forEach((n=>{const i=t.find((t=>t.node_id===n.node_id)),s=JSON.parse(n.result);e({type:"action_result",action:n.action,result:s,hostname:i.hostname,date:n.date,filter:n.filter}),e({type:"result_foldout",action:n.action,result:s,hostname:i.hostname,value:!1}),s.forEach(((t,s)=>{t.followups&&Object.values(t.followups).forEach((s=>lt(n.action,e,i,o,[{label:t.label,followup:s.function}])))}))}))}))})([e.data],o)},ft=function(o,f){let u,d;const p={create:[],update:[],remove:[],destroy:[],pre:[],post:[]},v=i;for(u=0;u<h.length;++u)for(p[h[u]]=[],d=0;d<o.length;++d){const t=o[d][h[u]];void 0!==t&&p[h[u]].push(t)}function m(e){const o=e.id?"#"+e.id:"",n=e.className?"."+e.className.split(" ").join("."):"";return t(v.tagName(e).toLowerCase()+o+n,{},[],void 0,e)}function g(t,e){return function(){if(0==--e){const e=v.parentNode(t);v.removeChild(e,t)}}}function y(t,o){var i,c;let a,h=t.data;if(void 0!==h){const e=null===(i=h.hook)||void 0===i?void 0:i.init;r(e)&&(e(t),h=t.data)}const f=t.children,u=t.sel;if("!"===u)s(t.text)&&(t.text=""),t.elm=v.createComment(t.text);else if(void 0!==u){const i=u.indexOf("#"),s=u.indexOf(".",i),d=i>0?i:u.length,m=s>0?s:u.length,g=-1!==i||-1!==s?u.slice(0,Math.min(d,m)):u,w=t.elm=r(h)&&r(a=h.ns)?v.createElementNS(a,g):v.createElement(g);for(d<m&&w.setAttribute("id",u.slice(d+1,m)),s>0&&w.setAttribute("class",u.slice(m+1).replace(/\./g," ")),a=0;a<p.create.length;++a)p.create[a](l,t);if(e(f))for(a=0;a<f.length;++a){const t=f[a];null!=t&&v.appendChild(w,y(t,o))}else n(t.text)&&v.appendChild(w,v.createTextNode(t.text));const b=t.data.hook;r(b)&&(null===(c=b.create)||void 0===c||c.call(b,l,t),b.insert&&o.push(t))}else t.elm=v.createTextNode(t.text);return t.elm}function w(t,e,o,n,i,s){for(;n<=i;++n){const i=o[n];null!=i&&v.insertBefore(t,y(i,s),e)}}function b(t){var e,o;const n=t.data;if(void 0!==n){null===(o=null===(e=null==n?void 0:n.hook)||void 0===e?void 0:e.destroy)||void 0===o||o.call(e,t);for(let e=0;e<p.destroy.length;++e)p.destroy[e](t);if(void 0!==t.children)for(let e=0;e<t.children.length;++e){const o=t.children[e];null!=o&&"string"!=typeof o&&b(o)}}}function _(t,e,o,n){for(var i,s;o<=n;++o){let n,l;const c=e[o];if(null!=c)if(r(c.sel)){b(c),n=p.remove.length+1,l=g(c.elm,n);for(let t=0;t<p.remove.length;++t)p.remove[t](c,l);const t=null===(s=null===(i=null==c?void 0:c.data)||void 0===i?void 0:i.hook)||void 0===s?void 0:s.remove;r(t)?t(c,l):l()}else v.removeChild(t,c.elm)}}function x(t,e,o){var n,i,l,h,f;const u=null===(n=e.data)||void 0===n?void 0:n.hook;null===(i=null==u?void 0:u.prepatch)||void 0===i||i.call(u,t,e);const d=e.elm=t.elm,m=t.children,g=e.children;if(t!==e){if(void 0!==e.data){for(let o=0;o<p.update.length;++o)p.update[o](t,e);null===(h=null===(l=e.data.hook)||void 0===l?void 0:l.update)||void 0===h||h.call(l,t,e)}s(e.text)?r(m)&&r(g)?m!==g&&function(t,e,o,n){let i,r,l,h,f=0,u=0,d=e.length-1,p=e[0],m=e[d],g=o.length-1,b=o[0],k=o[g];for(;f<=d&&u<=g;)null==p?p=e[++f]:null==m?m=e[--d]:null==b?b=o[++u]:null==k?k=o[--g]:c(p,b)?(x(p,b,n),p=e[++f],b=o[++u]):c(m,k)?(x(m,k,n),m=e[--d],k=o[--g]):c(p,k)?(x(p,k,n),v.insertBefore(t,p.elm,v.nextSibling(m.elm)),p=e[++f],k=o[--g]):c(m,b)?(x(m,b,n),v.insertBefore(t,m.elm,p.elm),m=e[--d],b=o[++u]):(void 0===i&&(i=a(e,f,d)),r=i[b.key],s(r)?v.insertBefore(t,y(b,n),p.elm):(l=e[r],l.sel!==b.sel?v.insertBefore(t,y(b,n),p.elm):(x(l,b,n),e[r]=void 0,v.insertBefore(t,l.elm,p.elm))),b=o[++u]);(f<=d||u<=g)&&(f>d?(h=null==o[g+1]?null:o[g+1].elm,w(t,h,o,u,g,n)):_(t,e,f,d))}(d,m,g,o):r(g)?(r(t.text)&&v.setTextContent(d,""),w(d,null,g,0,g.length-1,o)):r(m)?_(d,m,0,m.length-1):r(t.text)&&v.setTextContent(d,""):t.text!==e.text&&(r(m)&&_(d,m,0,m.length-1),v.setTextContent(d,e.text)),null===(f=null==u?void 0:u.postpatch)||void 0===f||f.call(u,t,e)}}return function(t,e){let o,n,i;const s=[];for(o=0;o<p.pre.length;++o)p.pre[o]();for(function(t){return void 0!==t.sel}(t)||(t=m(t)),c(t,e)?x(t,e,s):(n=t.elm,i=v.parentNode(n),y(e,s),null!==i&&(v.insertBefore(i,e.elm,v.nextSibling(n)),_(i,[t],0,0))),o=0;o<s.length;++o)s[o].data.hook.insert(s[o]);for(o=0;o<p.post.length;++o)p.post[o]();return e}}([u,p,w,_,j]);let ut={action_results:{},flex_search:{actions:{}}},dt=document.body;const pt=t=>{ut=((t,e)=>("node_data"==e.type&&(t.node_data=e.data),((t,e)=>("search_index"==e.type&&(t.flex_search[e.search_type].index=e.index),"search_results"==e.type&&(t.flex_search[e.search_type].results=e.results),"search_input"==e.type&&(t.flex_search[e.search_type].query=e.query),t))(t=((t,e)=>("actions"==e.type&&(t.actions=e.actions),"commands"==e.type&&(t.commands=e.commands),"quests"==e.type&&(t.quests=e.quests),"tests"==e.type&&(t.tests=e.tests),"perform_action"==e.type&&((t,e)=>{t.action_results[e.host]||(t.action_results[e.host]={}),t.action_results[e.host][e.action]||(t.action_results[e.host][e.action]={}),t.action_results[e.host][e.action].status="loading"})(t,e),"action_result"==e.type&&((t,e)=>{Array.isArray(e.result)&&!e.result.length&&(e.result=void 0),t.action_results[e.hostname]||(t.action_results[e.hostname]={}),t.action_results[e.hostname][e.action]||(t.action_results[e.hostname][e.action]={});const o=t.action_results[e.hostname][e.action];e.followup?o.result.find((t=>t.label===e.followup.label)).followups[e.followup.followup]=e.result.find((t=>t.label===e.followup.label)).followups[e.followup.followup]:o.result=e.result,o.foldout=!!e.result||void 0,o.status="loaded",o.date=e.date,o.filter=e.filter})(t,e),"result_foldout"==e.type&&(t.action_results[e.hostname][e.action].foldout=e.value),"action_followup"==e.type&&((t,e)=>{let o=t.action_results[e.host][e.action];for(const t of e.followups)o=o.result.find((e=>e.label===t.label)).followups[t.followup];o.status="loading",o.requests=(o.requests||0)+1})(t,e),"action_followup_result"==e.type&&((t,e)=>{Array.isArray(e.result)&&!e.result.length&&(e.result=void 0);let o=t.action_results[e.hostname][e.action];for(const t of e.followups)o=o.result.find((e=>e.label===t.label)).followups[t.followup];e.followup?e.result&&(o.result.find((t=>t.label===e.followup.label)).followups[e.followup.followup]=e.result.find((t=>t.label===e.followup.label)).followups[e.followup.followup]):o.result=e.result,o.foldout=!0,o.requests&&o.requests--,o.requests||(o.status="loaded"),o.date=e.date,o.filter=e.filter})(t,e),"followup_foldout"==e.type&&((t,e)=>{let o=t.action_results[e.hostname][e.action];for(const t of e.followups)o=o.result.find((e=>e.label===t.label)).followups[t.followup];o.foldout=e.value})(t,e),t))(t,e),e)))(ut,t),dt=ft(dt,((t,e)=>A("body",A("div#container",t.node_data?[A("div.column",[A("h2","Info"),U(t,e,t.node_data)]),A("div.column",[A("h2","Actions"),st(t,e,t.node_data)])]:A("div.title","Loading data..."))))(ut,pt)),ht(ut,t,pt)};pt({type:"init"}),window.state=ut,window.send=pt})()})();